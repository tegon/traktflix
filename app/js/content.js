!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=206)}({10:function(t,e){function r(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,u,"next",t)}function u(t){r(a,o,i,s,u,"throw",t)}s(void 0)})}}},11:function(t,e,r){"use strict";var n=r(2),o=r.n(n),i=r(4),a=r.n(i),s=new(function(){function t(){o()(this,t)}return a()(t,[{key:"isAvailable",value:function(){return!!chrome.tabs}},{key:"set",value:function(t){var e=this;return new Promise(function(r){e.isAvailable()?chrome.storage.local.set(t,r):chrome.runtime.sendMessage({type:"setStorageValue",value:t},r)})}},{key:"get",value:function(t){var e=this;return new Promise(function(r){e.isAvailable()?chrome.storage.local.get(t,r):chrome.runtime.sendMessage({type:"getStorageValue",key:t},r)})}},{key:"remove",value:function(t){var e=this;return new Promise(function(r){e.isAvailable()?chrome.storage.local.remove(t,r):chrome.runtime.sendMessage({type:"removeStorageValue",key:t},r)})}},{key:"clear",value:function(){var t=this;return new Promise(function(e){t.isAvailable()?chrome.storage.local.clear(e):chrome.runtime.sendMessage({type:"clearStorage"},e)})}}]),t}());e.a=s},12:function(t,e,r){"use strict";var n=r(5),o=r.n(n),i=r(10),a=r.n(i),s=r(2),u=r.n(s),c=r(4),l=r.n(c),h=r(11),p=r(6),f=r(19),d=r.n(f),m=new(function(){function t(){u()(this,t),this._config={accessToken:p.a.rollbarToken,autoInstrument:{network:!1},captureIp:!1,captureUncaught:!0,captureUnhandledRejections:!0,payload:{environment:"production"}}}return l()(t,[{key:"init",value:function(){var t=a()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===this._rollbar){t.next=2;break}return t.abrupt("return",this);case 2:return t.next=4,h.a.get("options");case 4:return(e=t.sent).options&&e.options.allowRollbar&&(this._rollbar=d.a.init(this._config),window.Rollbar=this._rollbar,this.error=this._rollbar.error.bind(this._rollbar),this.warning=this._rollbar.warning.bind(this._rollbar)),t.abrupt("return",this);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"error",value:function(){}},{key:"warning",value:function(){}}]),t}());e.a=m},15:function(t,e,r){"use strict";var n=r(5),o=r.n(n),i=r(10),a=r.n(i),s=r(2),u=r.n(s),c=r(4),l=r.n(c),h=r(11),p=r(6),f=new(function(){function t(){u()(this,t)}return l()(t,[{key:"_send",value:function(){var t=a()(o.a.mark(function t(e){var r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("data");case 2:r=t.sent,(n=new XMLHttpRequest).open(e.method,e.url,!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("trakt-api-key",p.a.clientId),n.setRequestHeader("trakt-api-version",p.a.apiVersion),r.data&&r.data.access_token&&n.setRequestHeader("Authorization","Bearer ".concat(r.data.access_token)),n.timeout=1e4,n.onload=function(){200<=this.status&&400>this.status?e.success.call(this,this.response):e.error.call(this,this.status,this.responseText,{url:e.url,method:e.method,params:e.params})},n.onerror=function(){e.error.call(this,this.status,this.responseText,{url:e.url,method:e.method,params:e.params})},n.send(JSON.stringify(e.params));case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"send",value:function(t){return this._send(t)}}]),t}());e.a=f},16:function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},19:function(t,e,r){t.exports=function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";var n=r(2),o="undefined"!=typeof window&&window._rollbarConfig,i=o&&o.globalAlias||"Rollbar",a="undefined"!=typeof window&&window[i]&&"function"==typeof window[i].shimId&&void 0!==window[i].shimId();if("undefined"==typeof window||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!a&&o){var s=new n(o);window[i]=s}else"undefined"!=typeof window?(window.rollbar=n,window._rollbarDidLoad=!0):"undefined"!=typeof self&&(self.rollbar=n,self._rollbarDidLoad=!0);t.exports=n},function(t,e,r){"use strict";function n(t,e){this.options=s.merge(w,t);var r=new u(this.options,h,p);this.client=e||new a(this.options,r,c,"browser");var n="undefined"!=typeof window&&window||"undefined"!=typeof self&&self,o="undefined"!=typeof document&&document;(function(t){t.addTransform(f.handleItemWithError).addTransform(f.ensureItemHasSomethingToSay).addTransform(f.addBaseInfo).addTransform(f.addRequestInfo(window)).addTransform(f.addClientInfo(window)).addTransform(f.addPluginInfo(window)).addTransform(f.addBody).addTransform(d.addMessageWithError).addTransform(d.addTelemetryData).addTransform(d.addConfigToPayload).addTransform(f.scrubPayload).addTransform(d.userTransform(c)).addTransform(d.itemToPayload)})(this.client.notifier),function(t){t.addPredicate(v.checkLevel).addPredicate(m.checkIgnore).addPredicate(v.userCheckIgnore(c)).addPredicate(v.urlIsNotBlacklisted(c)).addPredicate(v.urlIsWhitelisted(c)).addPredicate(v.messageIsIgnored(c))}(this.client.queue),(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(l.captureUncaughtExceptions(n,this),l.wrapGlobals(n,this)),(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&l.captureUnhandledRejections(n,this),this.instrumenter=new y(this.options,this.client.telemeter,this,n,o),this.instrumenter.instrument()}function o(t){var e="Rollbar is not initialized";c.error(e),t&&t(new Error(e))}function i(t){for(var e=0,r=t.length;e<r;++e)if(s.isFunction(t[e]))return t[e]}var a=r(3),s=r(5),u=r(11),c=r(13),l=r(16),h=r(17),p=r(19),f=r(20),d=r(24),m=r(25),v=r(26),g=r(21),y=r(27),b=null;n.init=function(t,e){return b?b.global(t).configure(t):b=new n(t,e)},n.prototype.global=function(t){return this.client.global(t),this},n.global=function(t){return b?b.global(t):void o()},n.prototype.configure=function(t,e){var r=this.options,n={};return e&&(n={payload:e}),this.options=s.merge(r,t,n),this.client.configure(this.options,e),this.instrumenter.configure(this.options),this},n.configure=function(t,e){return b?b.configure(t,e):void o()},n.prototype.lastError=function(){return this.client.lastError},n.lastError=function(){return b?b.lastError():void o()},n.prototype.log=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.log(t),{uuid:e}},n.log=function(){if(b)return b.log.apply(b,arguments);var t=i(arguments);o(t)},n.prototype.debug=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.debug(t),{uuid:e}},n.debug=function(){if(b)return b.debug.apply(b,arguments);var t=i(arguments);o(t)},n.prototype.info=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.info(t),{uuid:e}},n.info=function(){if(b)return b.info.apply(b,arguments);var t=i(arguments);o(t)},n.prototype.warn=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.warn(t),{uuid:e}},n.warn=function(){if(b)return b.warn.apply(b,arguments);var t=i(arguments);o(t)},n.prototype.warning=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.warning(t),{uuid:e}},n.warning=function(){if(b)return b.warning.apply(b,arguments);var t=i(arguments);o(t)},n.prototype.error=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.error(t),{uuid:e}},n.error=function(){if(b)return b.error.apply(b,arguments);var t=i(arguments);o(t)},n.prototype.critical=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.critical(t),{uuid:e}},n.critical=function(){if(b)return b.critical.apply(b,arguments);var t=i(arguments);o(t)},n.prototype.handleUncaughtException=function(t,e,r,n,o,i){var a,u=s.makeUnhandledStackInfo(t,e,r,n,o,"onerror","uncaught exception",g);s.isError(o)?(a=this._createItem([t,o,i]))._unhandledStackInfo=u:s.isError(e)?(a=this._createItem([t,e,i]))._unhandledStackInfo=u:(a=this._createItem([t,i])).stackInfo=u,a.level=this.options.uncaughtErrorLevel,a._isUncaught=!0,this.client.log(a)},n.prototype.handleUnhandledRejection=function(t,e){var r="unhandled rejection was null or undefined!";if(t)if(t.message)r=t.message;else{var n=s.stringify(t);n.value&&(r=n.value)}var o,i=t&&t._rollbarContext||e&&e._rollbarContext;s.isError(t)?o=this._createItem([r,t,i]):(o=this._createItem([r,t,i])).stackInfo=s.makeUnhandledStackInfo(r,"",0,0,null,"unhandledrejection","",g),o.level=this.options.uncaughtErrorLevel,o._isUncaught=!0,o._originalArgs=o._originalArgs||[],o._originalArgs.push(e),this.client.log(o)},n.prototype.wrap=function(t,e,r){try{var n;if(n=s.isFunction(e)?e:function(){return e||{}},!s.isFunction(t))return t;if(t._isWrap)return t;if(!t._rollbar_wrapped&&(t._rollbar_wrapped=function(){r&&s.isFunction(r)&&r.apply(this,arguments);try{return t.apply(this,arguments)}catch(r){var e=r;throw e&&(s.isType(e,"string")&&(e=new String(e)),e._rollbarContext=n()||{},e._rollbarContext._wrappedSource=t.toString(),window._rollbarWrappedError=e),e}},t._rollbar_wrapped._isWrap=!0,t.hasOwnProperty))for(var o in t)t.hasOwnProperty(o)&&(t._rollbar_wrapped[o]=t[o]);return t._rollbar_wrapped}catch(e){return t}},n.wrap=function(t,e){return b?b.wrap(t,e):void o()},n.prototype.captureEvent=function(t,e){return this.client.captureEvent(t,e)},n.captureEvent=function(t,e){return b?b.captureEvent(t,e):void o()},n.prototype.captureDomContentLoaded=function(t,e){return e||(e=new Date),this.client.captureDomContentLoaded(e)},n.prototype.captureLoad=function(t,e){return e||(e=new Date),this.client.captureLoad(e)},n.prototype._createItem=function(t){return s.createItem(t,c,this)};var w={version:"2.4.6",scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp"],logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",endpoint:"api.rollbar.com/api/1/item/",verbose:!1,enabled:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0};t.exports=n},function(t,e,r){"use strict";function n(t,e,r,o){this.options=u.merge(t),this.logger=r,n.rateLimiter.configureGlobal(this.options),n.rateLimiter.setPlatformOptions(o,this.options),this.queue=new i(n.rateLimiter,e,r,this.options),this.notifier=new a(this.queue,this.options),this.telemeter=new s(this.options),this.lastError=null,this.lastErrorHash="none"}var o=r(4),i=r(8),a=r(9),s=r(10),u=r(5);n.rateLimiter=new o({maxItems:0,itemsPerMinute:60}),n.prototype.global=function(t){return n.rateLimiter.configureGlobal(t),this},n.prototype.configure=function(t,e){var r=this.options,n={};return e&&(n={payload:e}),this.options=u.merge(r,t,n),this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),this.global(this.options),this},n.prototype.log=function(t){var e=this._defaultLogLevel();return this._log(e,t)},n.prototype.debug=function(t){this._log("debug",t)},n.prototype.info=function(t){this._log("info",t)},n.prototype.warn=function(t){this._log("warning",t)},n.prototype.warning=function(t){this._log("warning",t)},n.prototype.error=function(t){this._log("error",t)},n.prototype.critical=function(t){this._log("critical",t)},n.prototype.wait=function(t){this.queue.wait(t)},n.prototype.captureEvent=function(t,e){return this.telemeter.captureEvent(t,e)},n.prototype.captureDomContentLoaded=function(t){return this.telemeter.captureDomContentLoaded(t)},n.prototype.captureLoad=function(t){return this.telemeter.captureLoad(t)},n.prototype._log=function(t,e){var r;if(e.callback&&(r=e.callback,delete e.callback),this._sameAsLastError(e)){if(r){var n=new Error("ignored identical item");n.item=e,r(n)}}else try{e.level=e.level||t,this.telemeter._captureRollbarItem(e),e.telemetryEvents=this.telemeter.copyEvents(),this.notifier.log(e,r)}catch(t){this.logger.error(t)}},n.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},n.prototype._sameAsLastError=function(t){if(!t._isUncaught)return!1;var e=function(t){var e=t.message||"",r=(t.err||{}).stack||String(t.err);return e+"::"+r}(t);return this.lastErrorHash===e||(this.lastError=t.err,this.lastErrorHash=e,!1)},t.exports=n},function(t,e,r){"use strict";function n(t){this.startTime=a.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(t)}function o(t,e,r){return!t.ignoreRateLimit&&e>=1&&r>e}function i(t,e,r,n,o,i,a){var s=null;return r&&(r=new Error(r)),r||n||(s=function(t,e,r,n,o){var i=e.environment||e.payload&&e.payload.environment,a={body:{message:{body:o?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:r,itemsPerMinute:n}}},language:"javascript",environment:i,notifier:{version:e.notifier&&e.notifier.version||e.version}};return"browser"===t?(a.platform="browser",a.framework="browser-js",a.notifier.name="rollbar-browser-js"):"server"===t?(a.framework=e.framework||"node-js",a.notifier.name=e.notifier.name):"react-native"===t&&(a.framework=e.framework||"react-native",a.notifier.name=e.notifier.name),a}(t,e,o,i,a)),{error:r,shouldSend:n,payload:s}}var a=r(5);n.globalSettings={startTime:a.now(),maxItems:void 0,itemsPerMinute:void 0},n.prototype.configureGlobal=function(t){void 0!==t.startTime&&(n.globalSettings.startTime=t.startTime),void 0!==t.maxItems&&(n.globalSettings.maxItems=t.maxItems),void 0!==t.itemsPerMinute&&(n.globalSettings.itemsPerMinute=t.itemsPerMinute)},n.prototype.shouldSend=function(t,e){var r=(e=e||a.now())-this.startTime;(r<0||r>=6e4)&&(this.startTime=e,this.perMinCounter=0);var s=n.globalSettings.maxItems,u=n.globalSettings.itemsPerMinute;if(o(t,s,this.counter))return i(this.platform,this.platformOptions,s+" max items reached",!1);if(o(t,u,this.perMinCounter))return i(this.platform,this.platformOptions,u+" items per minute reached",!1);this.counter++,this.perMinCounter++;var c=!o(t,s,this.counter),l=c;return c=c&&!o(t,u,this.perMinCounter),i(this.platform,this.platformOptions,null,c,s,u,l)},n.prototype.setPlatformOptions=function(t,e){this.platform=t,this.platformOptions=e},t.exports=n},function(t,e,r){"use strict";function n(t,e){return e===o(t)}function o(t){var e=typeof t;return"object"!==e?e:t?t instanceof Error?"error":{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function i(t){return n(t,"function")}function a(t){var e=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),r=RegExp("^"+e+"$");return function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}(t)&&r.test(t)}function s(t,e,r){var o,i,a,s=n(t,"object"),u=n(t,"array"),c=[];if(s&&-1!==r.indexOf(t))return t;if(r.push(t),s)for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&c.push(o);else if(u)for(a=0;a<t.length;++a)c.push(a);var l=s?{}:[],h=!0;for(a=0;a<c.length;++a)o=c[a],i=t[o],l[o]=e(o,i,r),h=h&&l[o]===t[o];return 0==c.length||h?t:l}function u(){return"********"}function c(){var t=p(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:7&r|8).toString(16)});return e}function l(t,e){var r,n;try{r=d.stringify(t)}catch(o){if(e&&i(e))try{r=e(t)}catch(t){n=t}else n=o}return{error:n,value:r}}function h(t,e){return function(r,n){try{e(r,n)}catch(e){t.error(e)}}}function p(){return Date.now?+Date.now():+new Date}var f=r(6),d={},m=!1;!function(){if(!m&&(m=!0,function(t){return!n(t,"undefined")}(JSON)&&(a(JSON.stringify)&&(d.stringify=JSON.stringify),a(JSON.parse)&&(d.parse=JSON.parse)),!i(d.stringify)||!i(d.parse))){var t=r(7);t(d)}}();var v={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};t.exports={isType:n,typeName:o,isFunction:i,isNativeFunction:a,isIterable:function(t){var e=o(t);return"object"===e||"array"===e},isError:function(t){return n(t,"error")},merge:f,traverse:s,redact:u,uuid4:c,LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},sanitizeUrl:function(t){var e=function(t){if(n(t,"string")){for(var e=v,r=e.parser[e.strictMode?"strict":"loose"].exec(t),o={},i=e.key.length;i--;)o[e.key[i]]=r[i]||"";return o[e.q.name]={},o[e.key[12]].replace(e.q.parser,function(t,r,n){r&&(o[e.q.name][r]=n)}),o}}(t);return e?(""===e.anchor&&(e.source=e.source.replace("#","")),t=e.source.replace("?"+e.query,"")):"(unknown)"},addParamsAndAccessTokenToPath:function(t,e,r){(r=r||{}).access_token=t;var n,o=[];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&o.push([n,r[n]].join("="));var i="?"+o.sort().join("&");(e=e||{}).path=e.path||"";var a,s=e.path.indexOf("?"),u=e.path.indexOf("#");-1!==s&&(-1===u||u>s)?(a=e.path,e.path=a.substring(0,s)+i+"&"+a.substring(s+1)):-1!==u?(a=e.path,e.path=a.substring(0,u)+i+a.substring(u)):e.path=e.path+i},formatUrl:function(t,e){if(!(e=e||t.protocol)&&t.port&&(80===t.port?e="http:":443===t.port&&(e="https:")),e=e||"https:",!t.hostname)return null;var r=e+"//"+t.hostname;return t.port&&(r=r+":"+t.port),t.path&&(r+=t.path),r},stringify:l,jsonParse:function(t){var e,r;try{e=d.parse(t)}catch(t){r=t}return{error:r,value:e}},makeUnhandledStackInfo:function(t,e,r,n,o,i,a,s){var u={url:e||"",line:r,column:n};u.func=s.guessFunctionName(u.url,u.line),u.context=s.gatherContext(u.url,u.line);var c=document&&document.location&&document.location.href,l=window&&window.navigator&&window.navigator.userAgent;return{mode:i,message:o?String(o):t||a,url:c,stack:[u],useragent:l}},createItem:function(t,e,r,n,i){for(var a,s,u,l,d,m,v=[],g=0,y=t.length;g<y;++g){var b=o(m=t[g]);switch(b){case"undefined":break;case"string":a?v.push(m):a=m;break;case"function":l=h(e,m);break;case"date":v.push(m);break;case"error":case"domexception":s?v.push(m):s=m;break;case"object":case"array":if(m instanceof Error||"undefined"!=typeof DOMException&&m instanceof DOMException){s?v.push(m):s=m;break}if(n&&"object"===b&&!d){for(var w=0,k=n.length;w<k;++w)if(void 0!==m[n[w]]){d=m;break}if(d)break}u?v.push(m):u=m;break;default:if(m instanceof Error||"undefined"!=typeof DOMException&&m instanceof DOMException){s?v.push(m):s=m;break}v.push(m)}}v.length>0&&((u=f(u)).extraArgs=v);var x={message:a,err:s,custom:u,timestamp:p(),callback:l,uuid:c()};return u&&void 0!==u.level&&(x.level=u.level,delete u.level),n&&d&&(x.request=d),i&&(x.lambdaContext=i),x._originalArgs=t,x},get:function(t,e){if(t){var r=e.split("."),n=t;try{for(var o=0,i=r.length;o<i;++o)n=n[r[o]]}catch(t){n=void 0}return n}},set:function(t,e,r){if(t){var n=e.split("."),o=n.length;if(!(o<1)){if(1===o)return void(t[n[0]]=r);try{for(var i=t[n[0]]||{},a=i,s=1;s<o-1;s++)i[n[s]]=i[n[s]]||{},i=i[n[s]];i[n[o-1]]=r,t[n[0]]=a}catch(t){return}}}},scrub:function(t,e){function r(t,e,r,n,o,i){return e+"********"}function o(t){var e;if(n(t,"string"))for(e=0;e<u.length;++e)t=t.replace(u[e],r);return t}function i(t,e){var r;for(r=0;r<a.length;++r)if(a[r].test(t)){e="********";break}return e}var a=function(t){for(var e,r=[],n=0;n<t.length;++n)e="^\\[?(%5[bB])?"+t[n]+"\\[?(%5[bB])?\\]?(%5[dD])?$",r.push(new RegExp(e,"i"));return r}(e=e||[]),u=function(t){for(var e,r=[],n=0;n<t.length;++n)e="\\[?(%5[bB])?"+t[n]+"\\[?(%5[bB])?\\]?(%5[dD])?",r.push(new RegExp("("+e+"=)([^&\\n]+)","igm"));return r}(e);return s(t,function t(e,r,a){var u=i(e,r);return u===r?n(r,"object")||n(r,"array")?s(r,t,a):o(u):u},[])},formatArgsAsString:function(t){var e,r,n,i=[];for(e=0,r=t.length;e<r;e++){switch(o(n=t[e])){case"object":(n=(n=l(n)).error||n.value).length>500&&(n=n.substr(0,497)+"...");break;case"null":n="null";break;case"undefined":n="undefined";break;case"symbol":n=n.toString()}i.push(n)}return i.join(" ")},now:p,filterIp:function(t,e){if(t&&t.user_ip&&!0!==e){var r=t.user_ip;if(e)try{var n;if(-1!==r.indexOf("."))(n=r.split(".")).pop(),n.push("0"),r=n.join(".");else if(-1!==r.indexOf(":")){if((n=r.split(":")).length>2){var o=n.slice(0,3),i=o[2].indexOf("/");-1!==i&&(o[2]=o[2].substring(0,i)),r=o.concat("0000:0000:0000:0000:0000").join(":")}}else r=null}catch(t){r=null}else r=null;t.user_ip=r}}}},function(t,e){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=function(t){if(!t||"[object Object]"!==n.call(t))return!1;var e,o=r.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!i)return!1;for(e in t);return void 0===e||r.call(t,e)};t.exports=function t(){var e,r,n,i,a,s={},u=null,c=arguments.length;for(e=0;e<c;e++)if(null!=(u=arguments[e]))for(a in u)r=s[a],n=u[a],s!==n&&(n&&o(n)?(i=r&&o(r)?r:{},s[a]=t(i,n)):void 0!==n&&(s[a]=n));return s}},function(t,e){t.exports=function(t){function e(t){return t<10?"0"+t:t}function r(){return this.valueOf()}function n(t){return c.lastIndex=0,c.test(t)?'"'+t.replace(c,function(t){var e=s[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function o(t,e){var r,s,c,l,h,p=i,f=e[t];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(t)),"function"==typeof u&&(f=u.call(e,t,f)),typeof f){case"string":return n(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(i+=a,h=[],"[object Array]"===Object.prototype.toString.apply(f)){for(l=f.length,r=0;r<l;r+=1)h[r]=o(r,f)||"null";return c=0===h.length?"[]":i?"[\n"+i+h.join(",\n"+i)+"\n"+p+"]":"["+h.join(",")+"]",i=p,c}if(u&&"object"==typeof u)for(l=u.length,r=0;r<l;r+=1)"string"==typeof u[r]&&(s=u[r],(c=o(s,f))&&h.push(n(s)+(i?": ":":")+c));else for(s in f)Object.prototype.hasOwnProperty.call(f,s)&&(c=o(s,f))&&h.push(n(s)+(i?": ":":")+c);return c=0===h.length?"{}":i?"{\n"+i+h.join(",\n"+i)+"\n"+p+"}":"{"+h.join(",")+"}",i=p,c}}var i,a,s,u,c=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=r,Number.prototype.toJSON=r,String.prototype.toJSON=r),"function"!=typeof t.stringify&&(s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t.stringify=function(t,e,r){var n;if(i="",a="","number"==typeof r)for(n=0;n<r;n+=1)a+=" ";else"string"==typeof r&&(a=r);if(u=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return o("",{"":t})}),"function"!=typeof t.parse&&(t.parse=function(){function t(t){return t.replace(/\\(?:u(.{4})|([^u]))/g,function(t,e,r){return e?String.fromCharCode(parseInt(e,16)):a[r]})}var e,r,n,o,i,a={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},s={go:function(){e="ok"},firstokey:function(){o=i,e="colon"},okey:function(){o=i,e="colon"},ovalue:function(){e="ocomma"},firstavalue:function(){e="acomma"},avalue:function(){e="acomma"}},u={go:function(){e="ok"},ovalue:function(){e="ocomma"},firstavalue:function(){e="acomma"},avalue:function(){e="acomma"}},c={"{":{go:function(){r.push({state:"ok"}),n={},e="firstokey"},ovalue:function(){r.push({container:n,state:"ocomma",key:o}),n={},e="firstokey"},firstavalue:function(){r.push({container:n,state:"acomma"}),n={},e="firstokey"},avalue:function(){r.push({container:n,state:"acomma"}),n={},e="firstokey"}},"}":{firstokey:function(){var t=r.pop();i=n,n=t.container,o=t.key,e=t.state},ocomma:function(){var t=r.pop();n[o]=i,i=n,n=t.container,o=t.key,e=t.state}},"[":{go:function(){r.push({state:"ok"}),n=[],e="firstavalue"},ovalue:function(){r.push({container:n,state:"ocomma",key:o}),n=[],e="firstavalue"},firstavalue:function(){r.push({container:n,state:"acomma"}),n=[],e="firstavalue"},avalue:function(){r.push({container:n,state:"acomma"}),n=[],e="firstavalue"}},"]":{firstavalue:function(){var t=r.pop();i=n,n=t.container,o=t.key,e=t.state},acomma:function(){var t=r.pop();n.push(i),i=n,n=t.container,o=t.key,e=t.state}},":":{colon:function(){if(Object.hasOwnProperty.call(n,o))throw new SyntaxError("Duplicate key '"+o+'"');e="ovalue"}},",":{ocomma:function(){n[o]=i,e="okey"},acomma:function(){n.push(i),e="avalue"}},true:{go:function(){i=!0,e="ok"},ovalue:function(){i=!0,e="ocomma"},firstavalue:function(){i=!0,e="acomma"},avalue:function(){i=!0,e="acomma"}},false:{go:function(){i=!1,e="ok"},ovalue:function(){i=!1,e="ocomma"},firstavalue:function(){i=!1,e="acomma"},avalue:function(){i=!1,e="acomma"}},null:{go:function(){i=null,e="ok"},ovalue:function(){i=null,e="ocomma"},firstavalue:function(){i=null,e="acomma"},avalue:function(){i=null,e="acomma"}}};return function(n,o){var a,l=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;e="go",r=[];try{for(;a=l.exec(n);)a[1]?c[a[1]][e]():a[2]?(i=+a[2],u[e]()):(i=t(a[3]),s[e]()),n=n.slice(a[0].length)}catch(t){e=t}if("ok"!==e||/[^\u0020\t\n\r]/.test(n))throw e instanceof SyntaxError?e:new SyntaxError("JSON");return"function"==typeof o?function t(e,r){var n,a,s=e[r];if(s&&"object"==typeof s)for(n in i)Object.prototype.hasOwnProperty.call(s,n)&&(void 0!==(a=t(s,n))?s[n]=a:delete s[n]);return o.call(e,r,s)}({"":i},""):i}}())}},function(t,e,r){"use strict";function n(t,e,r,n){this.rateLimiter=t,this.api=e,this.logger=r,this.options=n,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}var o=r(5);n.prototype.configure=function(t){this.api&&this.api.configure(t);var e=this.options;return this.options=o.merge(e,t),this},n.prototype.addPredicate=function(t){return o.isFunction(t)&&this.predicates.push(t),this},n.prototype.addPendingItem=function(t){this.pendingItems.push(t)},n.prototype.removePendingItem=function(t){var e=this.pendingItems.indexOf(t);-1!==e&&this.pendingItems.splice(e,1)},n.prototype.addItem=function(t,e,r,n){e&&o.isFunction(e)||(e=function(){});var i=this._applyPredicates(t);if(i.stop)return this.removePendingItem(n),void e(i.err);this._maybeLog(t,r),this.removePendingItem(n),this.pendingRequests.push(t);try{this._makeApiRequest(t,function(r,n){this._dequeuePendingRequest(t),e(r,n)}.bind(this))}catch(r){this._dequeuePendingRequest(t),e(r)}},n.prototype.wait=function(t){o.isFunction(t)&&(this.waitCallback=t,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},n.prototype._applyPredicates=function(t){for(var e=null,r=0,n=this.predicates.length;r<n;r++)if(!(e=this.predicates[r](t,this.options))||void 0!==e.err)return{stop:!0,err:e.err};return{stop:!1,err:null}},n.prototype._makeApiRequest=function(t,e){var r=this.rateLimiter.shouldSend(t);r.shouldSend?this.api.postItem(t,function(r,n){r?this._maybeRetry(r,t,e):e(r,n)}.bind(this)):r.error?e(r.error):this.api.postItem(r.payload,e)};var i=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];n.prototype._maybeRetry=function(t,e,r){var n=!1;if(this.options.retryInterval)for(var o=0,a=i.length;o<a;o++)if(t.code===i[o]){n=!0;break}n?this._retryApiRequest(e,r):r(t)},n.prototype._retryApiRequest=function(t,e){this.retryQueue.push({item:t,callback:e}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var t=this.retryQueue.shift();this._makeApiRequest(t.item,t.callback)}}.bind(this),this.options.retryInterval))},n.prototype._dequeuePendingRequest=function(t){var e=this.pendingRequests.indexOf(t);-1!==e&&(this.pendingRequests.splice(e,1),this._maybeCallWait())},n.prototype._maybeLog=function(t,e){if(this.logger&&this.options.verbose){var r=e;if(r=(r=r||o.get(t,"body.trace.exception.message"))||o.get(t,"body.trace_chain.0.exception.message"))return void this.logger.error(r);(r=o.get(t,"body.message.body"))&&this.logger.log(r)}},n.prototype._maybeCallWait=function(){return!(!o.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))},t.exports=n},function(t,e,r){"use strict";function n(t,e){this.queue=t,this.options=e,this.transforms=[]}var o=r(5);n.prototype.configure=function(t){this.queue&&this.queue.configure(t);var e=this.options;return this.options=o.merge(e,t),this},n.prototype.addTransform=function(t){return o.isFunction(t)&&this.transforms.push(t),this},n.prototype.log=function(t,e){if(e&&o.isFunction(e)||(e=function(){}),!this.options.enabled)return e(new Error("Rollbar is not enabled"));this.queue.addPendingItem(t);var r=t.err;this._applyTransforms(t,function(n,o){return n?(this.queue.removePendingItem(t),e(n,null)):void this.queue.addItem(o,e,r,t)}.bind(this))},n.prototype._applyTransforms=function(t,e){var r=-1,n=this.transforms.length,o=this.transforms,i=this.options,a=function(t,s){return t?void e(t,null):++r===n?void e(null,s):void o[r](s,i,a)};a(null,t)},t.exports=n},function(t,e,r){"use strict";function n(t){this.queue=[],this.options=o.merge(t);var e=this.options.maxTelemetryEvents||i;this.maxQueueSize=Math.max(0,Math.min(e,i))}var o=r(5),i=100;n.prototype.configure=function(t){var e=this.options;this.options=o.merge(e,t);var r=this.options.maxTelemetryEvents||i,n=Math.max(0,Math.min(r,i)),a=0;this.maxQueueSize>n&&(a=this.maxQueueSize-n),this.maxQueueSize=n,this.queue.splice(0,a)},n.prototype.copyEvents=function(){return Array.prototype.slice.call(this.queue,0)},n.prototype.capture=function(t,e,r,n,i){var a={level:function(t,e){return e||{error:"error",manual:"info"}[t]||"info"}(t,r),type:t,timestamp_ms:i||o.now(),body:e,source:"client"};n&&(a.uuid=n);try{if(o.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(a))return!1}catch(t){this.options.filterTelemetry=null}return this.push(a),a},n.prototype.captureEvent=function(t,e,r){return this.capture("manual",t,e,r)},n.prototype.captureError=function(t,e,r,n){var o={message:t.message||String(t)};return t.stack&&(o.stack=t.stack),this.capture("error",o,e,r,n)},n.prototype.captureLog=function(t,e,r,n){return this.capture("log",{message:t},e,r,n)},n.prototype.captureNetwork=function(t,e,r,n){e=e||"xhr",t.subtype=t.subtype||e,n&&(t.request=n);var o=this.levelFromStatus(t.status_code);return this.capture("network",t,o,r)},n.prototype.levelFromStatus=function(t){return t>=200&&t<400?"info":0===t||t>=400?"error":"info"},n.prototype.captureDom=function(t,e,r,n,o){var i={subtype:t,element:e};return void 0!==r&&(i.value=r),void 0!==n&&(i.checked=n),this.capture("dom",i,"info",o)},n.prototype.captureNavigation=function(t,e,r){return this.capture("navigation",{from:t,to:e},"info",r)},n.prototype.captureDomContentLoaded=function(t){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,t&&t.getTime())},n.prototype.captureLoad=function(t){return this.capture("navigation",{subtype:"load"},"info",void 0,t&&t.getTime())},n.prototype.captureConnectivityChange=function(t,e){return this.captureNetwork({change:t},"connectivity",e)},n.prototype._captureRollbarItem=function(t){if(this.options.includeItemsInTelemetry)return t.err?this.captureError(t.err,t.level,t.uuid,t.timestamp):t.message?this.captureLog(t.message,t.level,t.uuid,t.timestamp):t.custom?this.capture("log",t.custom,t.level,t.uuid,t.timestamp):void 0},n.prototype.push=function(t){this.queue.push(t),this.queue.length>this.maxQueueSize&&this.queue.shift()},t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n){this.options=t,this.transport=e,this.url=r,this.jsonBackup=n,this.accessToken=t.accessToken,this.transportOptions=o(t,r)}function o(t,e){return a.getTransportFromOptions(t,s,e)}var i=r(5),a=r(12),s={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};n.prototype.postItem=function(t,e){var r=a.transportOptions(this.transportOptions,"POST"),n=a.buildPayload(this.accessToken,t,this.jsonBackup);this.transport.post(this.accessToken,r,n,e)},n.prototype.configure=function(t){var e=this.oldOptions;return this.options=i.merge(e,t),this.transportOptions=o(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},t.exports=n},function(t,e,r){"use strict";var n=r(5);t.exports={buildPayload:function(t,e,r){if(!n.isType(e.context,"string")){var o=n.stringify(e.context,r);o.error?e.context="Error: could not serialize 'context'":e.context=o.value||"",e.context.length>255&&(e.context=e.context.substr(0,255))}return{access_token:t,data:e}},getTransportFromOptions:function(t,e,r){var n=e.hostname,o=e.protocol,i=e.port,a=e.path,s=e.search,u=t.proxy;if(t.endpoint){var c=r.parse(t.endpoint);n=c.hostname,o=c.protocol,i=c.port,a=c.pathname,s=c.search}return{hostname:n,protocol:o,port:i,path:a,search:s,proxy:u}},transportOptions:function(t,e){var r=t.protocol||"https:",n=t.port||("http:"===r?80:"https:"===r?443:void 0),o=t.hostname,i=t.path;return t.search&&(i+=t.search),t.proxy&&(i=r+"//"+o+i,o=t.proxy.host||t.proxy.hostname,n=t.proxy.port,r=t.proxy.protocol||r),{protocol:r,hostname:o,path:i,port:n,method:e}},appendPathToPath:function(t,e){var r=/\/$/.test(t),n=/^\//.test(e);return r&&n?e=e.substring(1):r||n||(e="/"+e),t+e}}},function(t,e,r){"use strict";r(14);var n=r(15),o=r(5);t.exports={error:function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),n.ieVersion()<=8?console.error(o.formatArgsAsString(t)):console.error.apply(console,t)},info:function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),n.ieVersion()<=8?console.info(o.formatArgsAsString(t)):console.info.apply(console,t)},log:function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),n.ieVersion()<=8?console.log(o.formatArgsAsString(t)):console.log.apply(console,t)}}},function(t,e){!function(t){"use strict";t.console||(t.console={});for(var e,r,n=t.console,o=function(){},i=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=i.pop();)n[e]||(n[e]={});for(;r=a.pop();)n[r]||(n[r]=o)}("undefined"==typeof window?this:window)},function(t,e){"use strict";var r={ieVersion:function(){var t;if(!document)return t;for(var e=3,r=document.createElement("div"),n=r.getElementsByTagName("i");r.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:t}};t.exports=r},function(t,e){"use strict";function r(t,e,r){if(e.hasOwnProperty&&e.hasOwnProperty("addEventListener")){for(var n=e.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var o=function(e,r,o){n.call(this,e,t.wrap(r),o)};o._rollbarOldAdd=n,o.belongsToShim=r,e.addEventListener=o;for(var i=e.removeEventListener;i._rollbarOldRemove&&i.belongsToShim;)i=i._rollbarOldRemove;var a=function(t,e,r){i.call(this,t,e&&e._rollbar_wrapped||e,r)};a._rollbarOldRemove=i,a.belongsToShim=r,e.removeEventListener=a}}t.exports={captureUncaughtExceptions:function(t,e,r){if(t){var n;if("function"==typeof e._rollbarOldOnError)n=e._rollbarOldOnError;else if(t.onerror){for(n=t.onerror;n._rollbarOldOnError;)n=n._rollbarOldOnError;e._rollbarOldOnError=n}var o=function(){var r=Array.prototype.slice.call(arguments,0);!function(t,e,r,n){t._rollbarWrappedError&&(n[4]||(n[4]=t._rollbarWrappedError),n[5]||(n[5]=t._rollbarWrappedError._rollbarContext),t._rollbarWrappedError=null),e.handleUncaughtException.apply(e,n),r&&r.apply(t,n)}(t,e,n,r)};r&&(o._rollbarOldOnError=n),t.onerror=o}},captureUnhandledRejections:function(t,e,r){if(t){"function"==typeof t._rollbarURH&&t._rollbarURH.belongsToShim&&t.removeEventListener("unhandledrejection",t._rollbarURH);var n=function(t){var r,n,o;try{r=t.reason}catch(t){r=void 0}try{n=t.promise}catch(t){n="[unhandledrejection] error getting `promise` from event"}try{o=t.detail,!r&&o&&(r=o.reason,n=o.promise)}catch(t){o="[unhandledrejection] error getting `detail` from event"}r||(r="[unhandledrejection] error getting `reason` from event"),e&&e.handleUnhandledRejection&&e.handleUnhandledRejection(r,n)};n.belongsToShim=r,t._rollbarURH=n,t.addEventListener("unhandledrejection",n)}},wrapGlobals:function(t,e,n){if(t){var o,i,a="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(o=0;o<a.length;++o)i=a[o],t[i]&&t[i].prototype&&r(e,t[i].prototype,n)}}}},function(t,e,r){"use strict";function n(t,e,r,n,a,u){var c;if(!(c=u?u():function(){var t,e,r=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=r.length;for(e=0;e<n;e++)try{t=r[e]();break}catch(t){}return t}()))return a(new Error("No way to send a request"));try{try{var l=function(){try{if(l&&4===c.readyState){l=void 0;var t=i.jsonParse(c.responseText);if(function(t){return t&&t.status&&200===t.status}(c))return void a(t.error,t.value);if(function(t){return t&&i.isType(t.status,"number")&&t.status>=400&&t.status<600}(c)){if(403===c.status){var e=t.value&&t.value.message;s.error(e)}a(new Error(String(c.status)))}else a(o("XHR response had no status code (likely connection failure)"))}}catch(t){var r;r=t&&t.stack?t:new Error(t),a(r)}};c.open(r,e,!0),c.setRequestHeader&&(c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("X-Rollbar-Access-Token",t)),c.onreadystatechange=l,c.send(n)}catch(t){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return a(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===e.substring(0,5)&&(e="http"+e.substring(5));var h=new XDomainRequest;h.onprogress=function(){},h.ontimeout=function(){a(o("Request timed out","ETIMEDOUT"))},h.onerror=function(){a(new Error("Error during request"))},h.onload=function(){var t=i.jsonParse(h.responseText);a(t.error,t.value)},h.open(r,e,!0),h.send(n)}else a(new Error("Cannot find a method to transport a request"))}}catch(t){a(t)}}function o(t,e){var r=new Error(t);return r.code=e||"ENOTFOUND",r}var i=r(5),a=r(18),s=r(13);t.exports={get:function(t,e,r,o,a){o&&i.isFunction(o)||(o=function(){}),i.addParamsAndAccessTokenToPath(t,e,r);var s=i.formatUrl(e);n(t,s,"GET",null,o,a)},post:function(t,e,r,o,s){if(o&&i.isFunction(o)||(o=function(){}),!r)return o(new Error("Cannot send empty request"));var u=a.truncate(r);if(u.error)return o(u.error);var c=u.value,l=i.formatUrl(e);n(t,l,"POST",c,o,s)}}},function(t,e,r){"use strict";function n(t,e){return[t,h.stringify(t,e)]}function o(t,e){var r=t.length;return r>2*e?t.slice(0,e).concat(t.slice(r-e)):t}function i(t,e,r){r=void 0===r?30:r;var n,i=t.data.body;if(i.trace_chain)for(var a=i.trace_chain,s=0;s<a.length;s++)n=o(n=a[s].frames,r),a[s].frames=n;else i.trace&&(n=o(n=i.trace.frames,r),i.trace.frames=n);return[t,h.stringify(t,e)]}function a(t,e){return e&&e.length>t?e.slice(0,t-3).concat("..."):e}function s(t,e,r){return[e=h.traverse(e,function e(r,n,o){switch(h.typeName(n)){case"string":return a(t,n);case"object":case"array":return h.traverse(n,e,o);default:return n}},[]),h.stringify(e,r)]}function u(t){return t.exception&&(delete t.exception.description,t.exception.message=a(255,t.exception.message)),t.frames=o(t.frames,1),t}function c(t,e){var r=t.data.body;if(r.trace_chain)for(var n=r.trace_chain,o=0;o<n.length;o++)n[o]=u(n[o]);else r.trace&&(r.trace=u(r.trace));return[t,h.stringify(t,e)]}function l(t,e){return t.length>e}var h=r(5);t.exports={truncate:function(t,e,r){r=void 0===r?524288:r;for(var o,a,u,h=[n,i,s.bind(null,1024),s.bind(null,512),s.bind(null,256),c];o=h.shift();)if(a=o(t,e),t=a[0],(u=a[1]).error||!l(u.value,r))return u;return u},raw:n,truncateFrames:i,truncateStrings:s,maybeTruncateValue:a}},function(t,e){"use strict";t.exports={parse:function(t){var e,r,n={protocol:null,auth:null,host:null,path:null,hash:null,href:t,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(e=t.indexOf("//"))?(n.protocol=t.substring(0,e),r=e+2):r=0,-1!==(e=t.indexOf("@",r))&&(n.auth=t.substring(r,e),r=e+1),-1===(e=t.indexOf("/",r))){if(-1===(e=t.indexOf("?",r)))return-1===(e=t.indexOf("#",r))?n.host=t.substring(r):(n.host=t.substring(r,e),n.hash=t.substring(e)),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),n;n.host=t.substring(r,e),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=e}else n.host=t.substring(r,e),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=e;if(-1===(e=t.indexOf("#",r))?n.path=t.substring(r):(n.path=t.substring(r,e),n.hash=t.substring(e)),n.path){var o=n.path.split("?");n.pathname=o[0],n.query=o[1],n.search=n.query?"?"+n.query:null}return n}}},function(t,e,r){"use strict";function n(t,e,r){var n=t.message,i=t.custom;if(!n)if(i){var a=e.scrubFields,s=o.stringify(o.scrub(i,a));n=s.error||s.value||""}else n="";var u={body:n};i&&(u.extra=o.merge(i)),o.set(t,"data.body",{message:u}),r(null,t)}var o=r(5),i=r(21),a=r(13);t.exports={handleItemWithError:function(t,e,r){if(t.data=t.data||{},t.err)try{t.stackInfo=t.err._savedStackTrace||i.parse(t.err)}catch(e){a.error("Error while parsing the error object.",e);try{t.message=t.err.message||t.err.description||t.message||String(t.err)}catch(e){t.message=String(t.err)||String(e)}delete t.err}r(null,t)},ensureItemHasSomethingToSay:function(t,e,r){t.message||t.stackInfo||t.custom||r(new Error("No message, stack info, or custom data"),null),r(null,t)},addBaseInfo:function(t,e,r){var n=e.payload&&e.payload.environment||e.environment;t.data=o.merge(t.data,{environment:n,level:t.level,endpoint:e.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:t.uuid,notifier:{name:"rollbar-browser-js",version:e.version}}),r(null,t)},addRequestInfo:function(t){return function(e,r,n){if(!t||!t.location)return n(null,e);var i="$remote_ip";r.captureIp?!0!==r.captureIp&&(i+="_anonymize"):i=null,o.set(e,"data.request",{url:t.location.href,query_string:t.location.search,user_ip:i}),n(null,e)}},addClientInfo:function(t){return function(e,r,n){if(!t)return n(null,e);var i=t.navigator||{},a=t.screen||{};o.set(e,"data.client",{runtime_ms:e.timestamp-t._rollbarStartTime,timestamp:Math.round(e.timestamp/1e3),javascript:{browser:i.userAgent,language:i.language,cookie_enabled:i.cookieEnabled,screen:{width:a.width,height:a.height}}}),n(null,e)}},addPluginInfo:function(t){return function(e,r,n){if(!t||!t.navigator)return n(null,e);for(var i,a=[],s=t.navigator.plugins||[],u=0,c=s.length;u<c;++u)i=s[u],a.push({name:i.name,description:i.description});o.set(e,"data.client.javascript.plugins",a),n(null,e)}},addBody:function(t,e,r){t.stackInfo?function(t,e,r){var a=t.data.description,s=t.stackInfo,u=t.custom,c=i.guessErrorClass(s.message),l=s.name||c[0],h=c[1],p={exception:{class:l,message:h}};a&&(p.exception.description=a);var f=s.stack;if(f&&0===f.length&&t._unhandledStackInfo&&t._unhandledStackInfo.stack&&(f=t._unhandledStackInfo.stack),f){var d,m,v,g,y,b,w,k;for(0===f.length&&(p.exception.stack=s.rawStack,p.exception.raw=String(s.rawException)),p.frames=[],w=0;w<f.length;++w)d=f[w],m={filename:d.url?o.sanitizeUrl(d.url):"(unknown)",lineno:d.line||null,method:d.func&&"?"!==d.func?d.func:"[anonymous]",colno:d.column},e.sendFrameUrl&&(m.url=d.url),m.method&&m.method.endsWith&&m.method.endsWith("_rollbar_wrapped")||(v=g=y=null,(b=d.context?d.context.length:0)&&(k=Math.floor(b/2),g=d.context.slice(0,k),v=d.context[k],y=d.context.slice(k)),v&&(m.code=v),(g||y)&&(m.context={},g&&g.length&&(m.context.pre=g),y&&y.length&&(m.context.post=y)),d.args&&(m.args=d.args),p.frames.push(m));p.frames.reverse(),u&&(p.extra=o.merge(u)),o.set(t,"data.body",{trace:p}),r(null,t)}else t.message=l+": "+h,n(t,e,r)}(t,e,r):n(t,e,r)},scrubPayload:function(t,e,r){var n=e.scrubFields;t.data=o.scrub(t.data,n),r(null,t)}}},function(t,e,r){"use strict";function n(){return null}function o(t){var e={};return e._stackFrame=t,e.url=t.fileName,e.line=t.lineNumber,e.func=t.functionName,e.column=t.columnNumber,e.args=t.args,e.context=(e.url,e.line,null),e}function i(t){return{stack:function(){var e,r=[];if(t.stack)e=t;else try{throw t}catch(t){e=t}try{r=a.parse(e)}catch(t){r=[]}for(var n=[],i=0;i<r.length;i++)n.push(new o(r[i]));return n}(),message:t.message,name:t.name,rawStack:t.stack,rawException:t}}var a=r(22),s="?",u=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");t.exports={guessFunctionName:function(){return s},guessErrorClass:function(t){if(!t||!t.match)return["Unknown error. There was no error message to display.",""];var e=t.match(u),r="(unknown)";return e&&(r=e[e.length-1],t=(t=t.replace((e[e.length-2]||"")+r+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[r,t]},gatherContext:n,parse:function(t){return new i(t)},Stack:i,Frame:o}},function(t,e,r){var n,o,i;!function(a,s){"use strict";o=[r(23)],n=function(t){function e(t,e,r){if("function"==typeof Array.prototype.map)return t.map(e,r);for(var n=new Array(t.length),o=0;o<t.length;o++)n[o]=e.call(r,t[o]);return n}function r(t,e,r){if("function"==typeof Array.prototype.filter)return t.filter(e,r);for(var n=[],o=0;o<t.length;o++)e.call(r,t[o])&&n.push(t[o]);return n}var n=/(^|@)\S+\:\d+/,o=/^\s*at .*(\S+\:\d+|\(native\))/m,i=/^(eval@)?(\[native code\])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(o))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=t.replace(/[\(\)\s]/g,"").split(":"),r=e.pop(),n=e[e.length-1];if(!isNaN(parseFloat(n))&&isFinite(n)){var o=e.pop();return[e.join(":"),o,r]}return[e.join(":"),r,void 0]},parseV8OrIE:function(n){var i=r(n.stack.split("\n"),function(t){return!!t.match(o)},this);return e(i,function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var r=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(r.pop()),o=r.join(" ")||void 0,i="eval"===n[0]?void 0:n[0];return new t(o,void 0,i,n[1],n[2],e)},this)},parseFFOrSafari:function(n){var o=r(n.stack.split("\n"),function(t){return!t.match(i)},this);return e(o,function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t(e);var r=e.split("@"),n=this.extractLocation(r.pop()),o=r.shift()||void 0;return new t(o,void 0,n[0],n[1],n[2],e)},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),o=[],i=2,a=n.length;i<a;i+=2){var s=r.exec(n[i]);s&&o.push(new t(void 0,void 0,s[2],s[1],void 0,n[i]))}return o},parseOpera10:function(e){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),o=[],i=0,a=n.length;i<a;i+=2){var s=r.exec(n[i]);s&&o.push(new t(s[3]||void 0,void 0,s[2],s[1],void 0,n[i]))}return o},parseOpera11:function(o){var i=r(o.stack.split("\n"),function(t){return!!t.match(n)&&!t.match(/^Error created at/)},this);return e(i,function(e){var r,n=e.split("@"),o=this.extractLocation(n.pop()),i=n.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(r=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new t(a,s,o[0],o[1],o[2],e)},this)}}},void 0===(i="function"==typeof n?n.apply(e,o):n)||(t.exports=i)}()},function(t,e,r){var n,o,i;!function(r,a){"use strict";o=[],void 0===(i="function"==typeof(n=function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t,e,r,n,o,i){void 0!==t&&this.setFunctionName(t),void 0!==e&&this.setArgs(e),void 0!==r&&this.setFileName(r),void 0!==n&&this.setLineNumber(n),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(t){this.functionName=String(t)},getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getFileName:function(){return this.fileName},setFileName:function(t){this.fileName=String(t)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!t(e))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(e){if(!t(e))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(e)},getSource:function(){return this.source},setSource:function(t){this.source=String(t)},toString:function(){var e=this.getFunctionName()||"{anonymous}",r="("+(this.getArgs()||[]).join(",")+")",n=this.getFileName()?"@"+this.getFileName():"",o=t(this.getLineNumber())?":"+this.getLineNumber():"",i=t(this.getColumnNumber())?":"+this.getColumnNumber():"";return e+r+n+o+i}},e})?n.apply(e,o):n)||(t.exports=i)}()},function(t,e,r){"use strict";var n=r(5);t.exports={itemToPayload:function(t,e,r){var o=e.payload||{};o.body&&delete o.body;var i=n.merge(t.data,o);t._isUncaught&&(i._isUncaught=!0),t._originalArgs&&(i._originalArgs=t._originalArgs),r(null,i)},addTelemetryData:function(t,e,r){t.telemetryEvents&&n.set(t,"data.body.telemetry",t.telemetryEvents),r(null,t)},addMessageWithError:function(t,e,r){if(t.message){var o="data.body.trace_chain.0",i=n.get(t,o);if(i||(o="data.body.trace",i=n.get(t,o)),i){if(!i.exception||!i.exception.description)return n.set(t,o+".exception.description",t.message),void r(null,t);var a=n.get(t,o+".extra")||{},s=n.merge(a,{message:t.message});n.set(t,o+".extra",s)}r(null,t)}else r(null,t)},userTransform:function(t){return function(e,r,o){var i=n.merge(e);try{n.isFunction(r.transform)&&r.transform(i.data,e)}catch(i){return r.transform=null,t.error("Error while calling custom transform() function. Removing custom transform().",i),void o(null,e)}o(null,i)}},addConfigToPayload:function(t,e,r){if(!e.sendConfig)return r(null,t);var o=n.get(t,"data.custom")||{};o._rollbarConfig=e,t.data.custom=o,r(null,t)}}},function(t,e,r){"use strict";var n=r(5);t.exports={checkIgnore:function(t,e){return!n.get(e,"plugins.jquery.ignoreAjaxErrors")||!n.get(t,"body.message.extra.isAjax")}}},function(t,e,r){"use strict";function n(t,e,r,n){var i,a,s,u,c,l,h,p,f,d=!1;"blacklist"===r&&(d=!0);try{if(i=d?e.hostBlackList:e.hostWhiteList,h=i&&i.length,a=o.get(t,"body.trace"),!i||0===h)return!d;if(!a||!a.frames||0===a.frames.length)return!d;for(c=a.frames.length,p=0;p<c;p++){if(s=a.frames[p],u=s.filename,!o.isType(u,"string"))return!d;for(f=0;f<h;f++)if(l=i[f],new RegExp(l).test(u))return!0}}catch(t){d?e.hostBlackList=null:e.hostWhiteList=null;var m=d?"hostBlackList":"hostWhiteList";return n.error("Error while reading your configuration's "+m+" option. Removing custom "+m+".",t),!d}return!1}var o=r(5);t.exports={checkLevel:function(t,e){var r=t.level,n=o.LEVELS[r]||0,i=e.reportLevel,a=o.LEVELS[i]||0;return!(n<a)},userCheckIgnore:function(t){return function(e,r){var n=!!e._isUncaught;delete e._isUncaught;var i=e._originalArgs;delete e._originalArgs;try{o.isFunction(r.onSendCallback)&&r.onSendCallback(n,i,e)}catch(e){r.onSendCallback=null,t.error("Error while calling onSendCallback, removing",e)}try{if(o.isFunction(r.checkIgnore)&&r.checkIgnore(n,i,e))return!1}catch(e){r.checkIgnore=null,t.error("Error while calling custom checkIgnore(), removing",e)}return!0}},urlIsNotBlacklisted:function(t){return function(e,r){return!n(e,r,"blacklist",t)}},urlIsWhitelisted:function(t){return function(e,r){return n(e,r,"whitelist",t)}},messageIsIgnored:function(t){return function(e,r){var n,i,a,s,u,c,l,h,p;try{if(u=!1,!(a=r.ignoredMessages)||0===a.length)return!0;if(l=e.body,h=o.get(l,"trace.exception.message"),p=o.get(l,"message.body"),!(n=h||p))return!0;for(s=a.length,i=0;i<s&&(c=new RegExp(a[i],"gi"),!(u=c.test(n)));i++);}catch(e){r.ignoredMessages=null,t.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!u}}}},function(t,e,r){"use strict";function n(t,e,r,n,o){var i=t[e];t[e]=r(i),n&&n[o].push([t,e,i])}function o(t,e){for(var r;t[e].length;)(r=t[e].shift())[0][r[1]]=r[2]}function i(t,e,r,n,o){var i=t.autoInstrument;!1===t.enabled||!1===i?this.autoInstrument={}:(a.isType(i,"object")||(i=c),this.autoInstrument=a.merge(c,i)),this.scrubTelemetryInputs=!!t.scrubTelemetryInputs,this.telemetryScrubber=t.telemetryScrubber,this.defaultValueScrubber=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new RegExp(t[r],"i"));return function(t){var r=function(t){if(!t||!t.attributes)return null;for(var e=t.attributes,r=0;r<e.length;++r)if("name"===e[r].key)return e[r].value;return null}(t);if(!r)return!1;for(var n=0;n<e.length;++n)if(e[n].test(r))return!0;return!1}}(t.scrubFields),this.telemeter=e,this.rollbar=r,this._window=n||{},this._document=o||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}var a=r(5),s=r(19),u=r(28),c={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestBody:!1,log:!0,dom:!0,navigation:!0,connectivity:!0};i.prototype.configure=function(t){var e=t.autoInstrument,r=a.merge(this.autoInstrument);!1===t.enabled||!1===e?this.autoInstrument={}:(a.isType(e,"object")||(e=c),this.autoInstrument=a.merge(c,e)),this.instrument(r),void 0!==t.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!t.scrubTelemetryInputs),void 0!==t.telemetryScrubber&&(this.telemetryScrubber=t.telemetryScrubber)},i.prototype.instrument=function(t){!this.autoInstrument.network||t&&t.network?!this.autoInstrument.network&&t&&t.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||t&&t.log?!this.autoInstrument.log&&t&&t.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||t&&t.dom?!this.autoInstrument.dom&&t&&t.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||t&&t.navigation?!this.autoInstrument.navigation&&t&&t.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||t&&t.connectivity?!this.autoInstrument.connectivity&&t&&t.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity()},i.prototype.deinstrumentNetwork=function(){o(this.replacements,"network")},i.prototype.instrumentNetwork=function(){function t(t,r){t in r&&a.isFunction(r[t])&&n(r,t,function(t){return e.rollbar.wrap(t)})}var e=this;if("XMLHttpRequest"in this._window){var r=this._window.XMLHttpRequest.prototype;n(r,"open",function(t){return function(e,r){return a.isType(r,"string")&&(this.__rollbar_xhr={method:e,url:r,status_code:null,start_time_ms:a.now(),end_time_ms:null}),t.apply(this,arguments)}},this.replacements,"network"),n(r,"send",function(r){return function(o){function i(){if(s.__rollbar_xhr&&(1===s.readyState||4===s.readyState)){if(null===s.__rollbar_xhr.status_code){s.__rollbar_xhr.status_code=0;var t=null;e.autoInstrument.networkRequestBody&&(t=o),s.__rollbar_event=e.telemeter.captureNetwork(s.__rollbar_xhr,"xhr",void 0,t)}if(1===s.readyState)s.__rollbar_xhr.start_time_ms=a.now();else{s.__rollbar_xhr.end_time_ms=a.now();var r=null;if(e.autoInstrument.networkResponseHeaders){var n=e.autoInstrument.networkResponseHeaders;r={};try{var i,u;if(!0===n){var c=s.getAllResponseHeaders();if(c){var l,h,p=c.trim().split(/[\r\n]+/);for(u=0;u<p.length;u++)l=p[u].split(": "),i=l.shift(),h=l.join(": "),r[i]=h}}else for(u=0;u<n.length;u++)i=n[u],r[i]=s.getResponseHeader(i)}catch(t){}}var f=null;if(e.autoInstrument.networkResponseBody)try{f=s.responseText}catch(t){}var d=null;(f||r)&&(d={},f&&(d.body=f),r&&(d.headers=r)),d&&(s.__rollbar_xhr.response=d)}try{var m=s.status;m=1223===m?204:m,s.__rollbar_xhr.status_code=m,s.__rollbar_event.level=e.telemeter.levelFromStatus(m)}catch(t){}}}var s=this;return t("onload",s),t("onerror",s),t("onprogress",s),"onreadystatechange"in s&&a.isFunction(s.onreadystatechange)?n(s,"onreadystatechange",function(t){return e.rollbar.wrap(t,void 0,i)}):s.onreadystatechange=i,r.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&n(this._window,"fetch",function(t){return function(r,n){for(var o=new Array(arguments.length),i=0,s=o.length;i<s;i++)o[i]=arguments[i];var u,c=o[0],l="GET";a.isType(c,"string")?u=c:c&&(u=c.url,c.method&&(l=c.method)),o[1]&&o[1].method&&(l=o[1].method);var h={method:l,url:u,status_code:null,start_time_ms:a.now(),end_time_ms:null},p=null;return e.autoInstrument.networkRequestBody&&(o[1]&&o[1].body?p=o[1].body:o[0]&&!a.isType(o[0],"string")&&o[0].body&&(p=o[0].body)),e.telemeter.captureNetwork(h,"fetch",void 0,p),t.apply(this,o).then(function(t){h.end_time_ms=a.now(),h.status_code=t.status;var r=null;if(e.autoInstrument.networkResponseHeaders){var n=e.autoInstrument.networkResponseHeaders;r={};try{if(!0===n);else for(var o=0;o<n.length;o++){var i=n[o];r[i]=t.headers.get(i)}}catch(t){}}var s=null;return r&&(s={headers:r}),s&&(h.response=s),t})}},this.replacements,"network")},i.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var t;this.replacements.log.length;)t=this.replacements.log.shift(),this._window.console[t[0]]=t[1]},i.prototype.instrumentConsole=function(){function t(t){var n=r[t],o=r,i="warn"===t?"warning":t;r[t]=function(){var t=Array.prototype.slice.call(arguments),r=a.formatArgsAsString(t);e.telemeter.captureLog(r,i),n&&Function.prototype.apply.call(n,o,t)},e.replacements.log.push([t,n])}if("console"in this._window&&this._window.console.log)for(var e=this,r=this._window.console,n=["debug","info","warn","error","log"],o=0,i=n.length;o<i;o++)t(n[o])},i.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},i.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var t=this.handleClick.bind(this),e=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",t,!0),this.addListener("dom",this._window,"blur","onfocusout",e,!0)}},i.prototype.handleClick=function(t){try{var e=u.getElementFromEvent(t,this._document),r=e&&e.tagName,n=u.isDescribedElement(e,"a")||u.isDescribedElement(e,"button");r&&(n||u.isDescribedElement(e,"input",["button","submit"]))?this.captureDomEvent("click",e):u.isDescribedElement(e,"input",["checkbox","radio"])&&this.captureDomEvent("input",e,e.value,e.checked)}catch(t){}},i.prototype.handleBlur=function(t){try{var e=u.getElementFromEvent(t,this._document);e&&e.tagName&&(u.isDescribedElement(e,"textarea")?this.captureDomEvent("input",e,e.value):u.isDescribedElement(e,"select")&&e.options&&e.options.length?this.handleSelectInputChanged(e):u.isDescribedElement(e,"input")&&!u.isDescribedElement(e,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",e,e.value))}catch(t){}},i.prototype.handleSelectInputChanged=function(t){if(t.multiple)for(var e=0;e<t.options.length;e++)t.options[e].selected&&this.captureDomEvent("input",t,t.options[e].value);else t.selectedIndex>=0&&t.options[t.selectedIndex]&&this.captureDomEvent("input",t,t.options[t.selectedIndex].value)},i.prototype.captureDomEvent=function(t,e,r,n){if(void 0!==r)if(this.scrubTelemetryInputs||"password"===u.getElementType(e))r="[scrubbed]";else{var o=u.describeElement(e);this.telemetryScrubber?this.telemetryScrubber(o)&&(r="[scrubbed]"):this.defaultValueScrubber(o)&&(r="[scrubbed]")}var i=u.elementArrayToString(u.treeToArray(e));this.telemeter.captureDom(t,i,r,n)},i.prototype.deinstrumentNavigation=function(){var t=this._window.chrome,e=t&&t.app&&t.app.runtime,r=!e&&this._window.history&&this._window.history.pushState;r&&o(this.replacements,"navigation")},i.prototype.instrumentNavigation=function(){var t=this._window.chrome,e=t&&t.app&&t.app.runtime,r=!e&&this._window.history&&this._window.history.pushState;if(r){var o=this;n(this._window,"onpopstate",function(t){return function(){var e=o._location.href;o.handleUrlChange(o._lastHref,e),t&&t.apply(this,arguments)}},this.replacements,"navigation"),n(this._window.history,"pushState",function(t){return function(){var e=arguments.length>2?arguments[2]:void 0;return e&&o.handleUrlChange(o._lastHref,e+""),t.apply(this,arguments)}},this.replacements,"navigation")}},i.prototype.handleUrlChange=function(t,e){var r=s.parse(this._location.href),n=s.parse(e),o=s.parse(t);this._lastHref=e,r.protocol===n.protocol&&r.host===n.host&&(e=n.path+(n.hash||"")),r.protocol===o.protocol&&r.host===o.host&&(t=o.path+(o.hash||"")),this.telemeter.captureNavigation(t,e)},i.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):o(this.replacements,"connectivity"))},i.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var t=this;n(this._document.body,"ononline",function(e){return function(){t.telemeter.captureConnectivityChange("online"),e&&e.apply(this,arguments)}},this.replacements,"connectivity"),n(this._document.body,"onoffline",function(e){return function(){t.telemeter.captureConnectivityChange("offline"),e&&e.apply(this,arguments)}},this.replacements,"connectivity")}},i.prototype.addListener=function(t,e,r,n,o,i){e.addEventListener?(e.addEventListener(r,o,i),this.eventRemovers[t].push(function(){e.removeEventListener(r,o,i)})):n&&(e.attachEvent(n,o),this.eventRemovers[t].push(function(){e.detachEvent(n,o)}))},i.prototype.removeListeners=function(t){for(;this.eventRemovers[t].length;)this.eventRemovers[t].shift()()},t.exports=i},function(t,e){"use strict";function r(t){return(t.getAttribute("type")||"").toLowerCase()}function n(t){if(!t||!t.tagName)return"";var e=[t.tagName];t.id&&e.push("#"+t.id),t.classes&&e.push("."+t.classes.join("."));for(var r=0;r<t.attributes.length;r++)e.push("["+t.attributes[r].key+'="'+t.attributes[r].value+'"]');return e.join("")}function o(t){if(!t||!t.tagName)return null;var e,r,n,o,i={};i.tagName=t.tagName.toLowerCase(),t.id&&(i.id=t.id),(e=t.className)&&"string"==typeof e&&(i.classes=e.split(/\s+/));var a=["type","name","title","alt"];for(i.attributes=[],o=0;o<a.length;o++)r=a[o],(n=t.getAttribute(r))&&i.attributes.push({key:r,value:n});return i}t.exports={describeElement:o,descriptionToString:n,elementArrayToString:function(t){for(var e,r,o=" > ".length,i=[],a=0,s=t.length-1;s>=0;s--){if(e=n(t[s]),r=a+i.length*o+e.length,s<t.length-1&&r>=83){i.unshift("...");break}i.unshift(e),a+=e.length}return i.join(" > ")},treeToArray:function(t){for(var e,r=[],n=0;t&&n<5&&"html"!==(e=o(t)).tagName;n++)r.unshift(e),t=t.parentNode;return r},getElementFromEvent:function(t,e){return t.target?t.target:e&&e.elementFromPoint?e.elementFromPoint(t.clientX,t.clientY):void 0},isDescribedElement:function(t,e,n){if(t.tagName.toLowerCase()!==e.toLowerCase())return!1;if(!n)return!0;t=r(t);for(var o=0;o<n.length;o++)if(n[o]===t)return!0;return!1},getElementType:r}}])},2:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},206:function(t,e,r){t.exports=r(218)},218:function(t,e,r){"use strict";r.r(e);var n=r(5),o=r.n(n),i=r(10),a=r.n(i),s=r(2),u=r.n(s),c=r(4),l=r.n(c),h=r(11),p=r(30),f=new(function(){function t(){u()(this,t)}return l()(t,[{key:"isReady",value:function(){return null!==document.querySelector(".PlayerControls--control-element.progress-control")}},{key:"parse",value:function(t){var e,r,n=document.querySelector(".video-title .ellipsize-text"),o=1<n.children.length?"show":"movie";if("show"===o){e=n.querySelector("h4").textContent;var i=n.querySelectorAll("span"),a=i[0].textContent.match(/\d+/g),s=a[0],u=a[1],c=i[1].textContent;r=new p.a({episode:u,epTitle:c,season:s,title:e,type:o})}else e=n.textContent,r=new p.a({title:e,type:o});t.call(this,r)}},{key:"start",value:function(t){var e,r=this;this.isReady()?this.parse(t):e=setTimeout(function(){r.isReady()?(clearTimeout(e),r.parse(t)):r.start(t)},500)}}]),t}()),d=r(12),m=r(68),v=r(15),g=r(6),y=function(){function t(e){if(u()(this,t),"show"===e.type)this.item={episode:e.response};else{var r=e.response.movie||{};r.type="movie",this.item={movie:r}}this.onProgressChange(),this.url="".concat(g.a.apiUri,"/scrobble"),this.success=e.success,this.error=e.error,this.startProgressTimeout()}return l()(t,[{key:"startProgressTimeout",value:function(){var t=this;this.progressChangeInterval=setTimeout(function(){t.onProgressChange(),clearTimeout(t.progressChangeInterval),t.startProgressTimeout()},1e3)}},{key:"stopProgressTimeout",value:function(){clearInterval(this.progressChangeInterval)}},{key:"onProgressChange",value:function(){this.webScrubber()}},{key:"webScrubber",value:function(){var t=document.querySelector(".scrubber-bar .current-progress");if(this.basePercentage&&this.baseTime||(t&&(this.basePercentage=100-parseFloat(t.style.width)),this.baseTime=this.getRemainingTime()),t){var e=100-parseFloat(t.style.width);e!==this.basePercentage&&(this.basePercentage=e,this.baseTime=this.getRemainingTime());var r=100-this.basePercentage*this.getRemainingTime()/this.baseTime;0<r&&(this.progress=r)}}},{key:"getRemainingTime",value:function(){var t=document.querySelector("time");if(t)return parseInt(t.textContent.replace(":","").replace(":",""))}},{key:"_sendScrobble",value:function(t){var e,r=this,n=new Promise(function(t){return e=t}),i=this.item;return i.progress=this.progress,[v.a.send({method:"POST",url:"".concat(this.url).concat(t.path),params:i,success:function(){var n=a()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getItemInfo(t.path,!0);case 2:r.success(),e();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),error:function(){var n=a()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getItemInfo(t.path);case 2:r.error(),e();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()}),n]}},{key:"getItemInfo",value:function(){var t=a()(o.a.mark(function t(e,r){var n,i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.item){t.next=2;break}return t.abrupt("return");case 2:if(n=this.item.episode&&"".concat(this.item.episode.show.title," - ").concat(this.item.episode.title)||this.item.movie&&this.item.movie.title){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,h.a.get("options");case 7:if(!(i=t.sent).options||!i.options.showNotifications){t.next=24;break}if(!r){t.next=23;break}a="",t.t0=e,t.next="/start"===t.t0?14:"/pause"===t.t0?16:"/stop"===t.t0?18:20;break;case 14:return a=chrome.i18n.getMessage("scrobbleStarted"),t.abrupt("break",20);case 16:return a=chrome.i18n.getMessage("scrobblePaused"),t.abrupt("break",20);case 18:return a=chrome.i18n.getMessage("scrobbleStopped"),t.abrupt("break",20);case 20:this.showNotification("traktflix: ".concat(n),a),t.next=24;break;case 23:this.showErrorNotification("".concat(chrome.i18n.getMessage("couldNotScrobble")," ").concat(n));case 24:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){return this._sendScrobble({path:"/start"})}},{key:"pause",value:function(){return this._sendScrobble({path:"/pause"})}},{key:"stop",value:function(){return this.stopProgressTimeout(),this._sendScrobble({path:"/stop"})}},{key:"showNotification",value:function(t,e){chrome.runtime.sendMessage({type:"showNotification",message:e,title:t})}},{key:"showErrorNotification",value:function(t){chrome.runtime.sendMessage({type:"showErrorNotification",message:t})}}]),t}(),b=function(){function t(){u()(this,t),this.item=null,this.scrobble=void 0,location.href.match(/watch/)&&f.start(this.storeItem.bind(this))}return l()(t,[{key:"onSearchSuccess",value:function(t){this.sendAnalyticsEvent({name:"onSearchSuccess",value:this.item.title}),this.scrobble=new y({response:t,type:this.item.type,success:this.onScrobbleSuccess.bind(this),error:this.onScrobbleError.bind(this)}),this.setActiveIcon(),this.scrobble.start(),this.sendAnalyticsEvent({name:"Scrobble",value:"start"})}},{key:"onSearchError",value:function(t,e,r){this.sendAnalyticsEvent({name:"onSearchError",value:"".concat(t," - ").concat(this.item.title)}),console.log("traktflix: Search error",t,e,r,this.item.title),this.reportError("Search",t,e,r)}},{key:"onScrobbleSuccess",value:function(){this.sendAnalyticsEvent({name:"Scrobble",value:"onSuccess"})}},{key:"onScrobbleError",value:function(t,e,r){this.sendAnalyticsEvent({name:"Scrobble",value:"onError"}),console.log("traktflix: Scrobble error",t,e,r),this.reportError("Scrobble",t,e,r)}},{key:"storeItem",value:function(t){(this.item=t,null!==this.item)?new m.a({item:this.item}).find({success:this.onSearchSuccess.bind(this),error:this.onSearchError.bind(this)}):this.scrobble=void 0}},{key:"onPlay",value:function(){null===this.item&&void 0===this.scrobble?f.start(this.storeItem.bind(this)):(this.setActiveIcon(),this.scrobble.start(),this.sendAnalyticsEvent({name:"Scrobble",value:"start"}))}},{key:"onPause",value:function(){void 0!==this.scrobble&&(this.setInactiveIcon(),this.scrobble.pause(),this.sendAnalyticsEvent({name:"Scrobble",value:"pause"}))}},{key:"onStop",value:function(){void 0!==this.scrobble&&(this.setInactiveIcon(),this.scrobble.stop(),this.sendAnalyticsEvent({name:"Scrobble",value:"stop"})),this.storeItem(null)}},{key:"setInactiveIcon",value:function(){chrome.runtime.sendMessage({type:"setInactiveIcon"})}},{key:"setActiveIcon",value:function(){chrome.runtime.sendMessage({type:"setActiveIcon"})}},{key:"sendAnalyticsEvent",value:function(t){chrome.runtime.sendMessage({type:"sendEvent",name:t.name,value:t.value})}},{key:"showErrorNotification",value:function(t){chrome.runtime.sendMessage({type:"showErrorNotification",message:t})}},{key:"reportError",value:function(){var t=a()(o.a.mark(function t(e,r,n,i){var a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this,404!==r){t.next=5;break}this.showErrorNotification(chrome.i18n.getMessage("errorNotificationNotFound")),t.next=23;break;case 5:if(0!==r){t.next=19;break}return t.next=8,h.a.get(null);case 8:if(!(s=t.sent).data||!s.data.access_token){t.next=16;break}return a.showErrorNotification(chrome.i18n.getMessage("errorNotificationServers")),t.next=13,d.a.init();case 13:d.a.warning("traktflix: ".concat(e," error"),{status:r,response:n,options:i}),t.next=17;break;case 16:a.showErrorNotification(chrome.i18n.getMessage("errorNotificationLogin"));case 17:t.next=23;break;case 19:return this.showErrorNotification(chrome.i18n.getMessage("errorNotificationServers")),t.next=22,d.a.init();case 22:d.a.warning("traktflix: ".concat(e," error"),{status:r,response:n,options:i});case 23:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getCurrentItem",value:function(){return this.item&&this.scrobble&&"show"===this.item.type?{item:this.scrobble.item.episode}:this.item&&this.scrobble&&"movie"===this.item.type?{item:this.scrobble.item.movie}:void 0}}]),t}(),w=function(){function t(e){u()(this,t),this.document=document,this.onPlay=e.onPlay,this.onStop=e.onStop,this.url=location.href}return l()(t,[{key:"startListeners",value:function(){this.addStopListener(),this.addUrlChangeListener()}},{key:"stopListeners",value:function(){this.removeStopListener(),this.removeUrlChangeListener()}},{key:"addStopListener",value:function(){var t=this;window.onbeforeunload=window.onunload=function(){t.onStop(),t.stopListeners()}}},{key:"addUrlChangeListener",value:function(){var t=this;this.urlChangeInterval=setTimeout(function(){this.url!==location.href&&(t.onUrlChange(this.url,location.href),this.url=location.href),clearTimeout(this.urlChangeInterval),t.addUrlChangeListener()}.bind(this),500)}},{key:"onUrlChange",value:function(t,e){/watch/.test(t)&&/watch/.test(e)?(this.onStop(),this.onPlay()):/watch/.test(t)&&!/watch/.test(e)?this.onStop():!/watch/.test(t)&&/watch/.test(e)&&this.onPlay()}},{key:"removeStopListener",value:function(){window.onpopstate=null,window.onbeforeunload=null}},{key:"removeUrlChangeListener",value:function(){clearInterval(this.urlChangeInterval)}}]),t}();d.a.init();var k=new b;new w({onPlay:k.onPlay.bind(k),onPause:k.onPause.bind(k),onStop:k.onStop.bind(k)}).startListeners(),chrome.runtime.onMessage.addListener(function(t,e,r){"getCurrentItem"===t.type&&r(k.getCurrentItem())}),location.href.match(/\/Activate\?code=/)&&chrome.runtime.sendMessage({type:"authorize",url:location.href})},23:function(t,e,r){var n=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(24),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},24:function(t,e){!function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=w;var h="suspendedStart",p="suspendedYield",f="executing",d="completed",m={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(N([])));y&&y!==n&&o.call(y,a)&&(v=y);var b=E.prototype=x.prototype=Object.create(v);_.prototype=b.constructor=E,E.constructor=_,E[u]=_.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},S(I.prototype),I.prototype[s]=function(){return this},l.AsyncIterator=I,l.async=function(t,e,r,n){var o=new I(w(t,e,r,n));return l.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},S(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=N,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return s.type="throw",s.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),m}}}function w(t,e,r,n){var o=e&&e.prototype instanceof x?e:x,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(t,e,r){var n=h;return function(o,i){if(n===f)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=T(a,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var u=k(t,e,r);if("normal"===u.type){if(n=r.done?d:p,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function k(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function x(){}function _(){}function E(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function I(t){var e;this._invoke=function(r,n){function i(){return new Promise(function(e,i){!function e(r,n,i,a){var s=k(t[r],t,n);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(c).then(function(t){u.value=t,i(u)},function(t){return e("throw",t,i,a)})}a(s.arg)}(r,n,e,i)})}return e=e?e.then(i,i):i()}}function T(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,T(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=k(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},30:function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n,o=r(2),i=r.n(o),a=r(16),s=r.n(a),u=(n={},s()(n,"Star Wars: The Clone Wars",'"Star Wars: The Clone Wars"'),s()(n,"The Office (U.S.)","The Office (US)"),s()(n,"The Blind Side",'"The Blind Side"'),s()(n,"The Avengers",'"The Avengers"'),s()(n,"The Seven Deadly Sins",'"The Seven Deadly Sins"'),s()(n,"Young and Hungry",'"Young and Hungry"'),s()(n,"The 100",'"The 100"'),s()(n,"The House of Cards Trilogy (BBC)","The House of Cards"),s()(n,"Shameless (U.S.)","Shameless"),s()(n,"Dynasty","Dynasty reboot"),n),c=function t(e){i()(this,t),this.title=u[e.title]||e.title,this.type=e.type,"show"===this.type&&(this.epTitle=e.epTitle,this.season=e.season,this.episode=e.episode)}},4:function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},5:function(t,e,r){t.exports=r(23)},6:function(t,e,r){"use strict";e.a={authorizeUri:"http://trakt.tv/oauth/authorize",apiUri:"https://api.trakt.tv",redirectUri:"https://www.netflix.com/Activate",clientId:"7a3a721121890e3719cd681fdbb9b944317af72e1a0afca6a5a6f601fb1c2633",clientSecret:"575304dded8adfc7fd16e5c7c066ebdcfeccb2db9b44c09abd66d96b862c5853",apiVersion:"2",analyticsId:"UA-127792057-1",rollbarToken:"680b6a8d7c324b24bd4fb0630de581ef",tmdbApiKey:"05cb40882f93db6fa9c332fc036fa3ba"}},68:function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n=r(2),o=r.n(n),i=r(4),a=r.n(i),s=r(15),u=r(6),c=function(){function t(e){o()(this,t),this.item=e.item,this.url="".concat(u.a.apiUri,"/search"),this.showsUrl="".concat(u.a.apiUri,"/shows")}return a()(t,[{key:"getUrl",value:function(){return"".concat(this.url,"/").concat(this.item.type,"?query=").concat(encodeURIComponent(this.item.title))}},{key:"getEpisodeUrl",value:function(t){return this.item.episode?"".concat(this.showsUrl,"/").concat(t,"/seasons/").concat(this.item.season,"/episodes/").concat(this.item.episode,"?extended=images"):"".concat(this.showsUrl,"/").concat(t,"/seasons/").concat(this.item.season,"?extended=images")}},{key:"findItem",value:function(t){return s.a.send({method:"GET",url:this.getUrl(),success:function(e){var r=JSON.parse(e)[0];void 0===r?t.error.call(this,404):t.success.call(this,r)},error:function(e,r,n){t.error.call(this,e,r,n)}})}},{key:"formatEpisodeTitle",value:function(t){return t.toLowerCase().replace(/(^|\s)(a|an|the)(\s)/g,"$1$3").replace(/\s/g,"")}},{key:"findEpisodeByTitle",value:function(t,e,r){var n=JSON.parse(e),o=null,i=!0,a=!1,s=void 0;try{for(var u,c,l=n[Symbol.iterator]();!(i=(u=l.next()).done);i=!0)if(c=u.value,this.item.epTitle&&c.title&&this.formatEpisodeTitle(c.title)===this.formatEpisodeTitle(this.item.epTitle)){o=c;break}}catch(t){a=!0,s=t}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}o?r.success.call(this,Object.assign(o,t)):r.error.call(this,404,"Episode not found.",{show:t,item:this.item})}},{key:"findEpisode",value:function(t){var e,r=new Promise(function(t){return e=t}),n=this;return[this.findItem({success:function(r){s.a.send({method:"GET",url:n.getEpisodeUrl(r.show.ids.slug),success:function(e){this.item.episode?t.success.call(this,Object.assign(JSON.parse(e),r)):n.findEpisodeByTitle(r,e,t)}.bind(this),error:function(e,r,n){t.error.call(this,e,r,n)}}).then(e)}.bind(this),error:function(r,n,o){t.error.call(this,r,n,o),e()}}),r]}},{key:"find",value:function(t){"show"===this.item.type?this.findEpisode(t):this.findItem(t)}}]),t}()}});